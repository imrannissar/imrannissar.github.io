<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>iframe test page</title>
</head>
<body>
  <h3>iframe-page (imran.com)</h3>
  <div id="status">script not run yet</div>

  <script>
    // This script runs inside the iframe. It will notify the parent
    // using postMessage and also update the DOM so you can see it ran.
    document.getElementById('status').textContent = 'script executed at ' + new Date().toISOString();

    // Send a message to the parent (visible to parent if parent listens)
    try {
      window.parent.postMessage({ type: 'iframe-js-executed', time: Date.now(), origin: location.origin }, '*');
    } catch (e) {
      // ignore
    }

    // Expose a simple function on window to test same-origin access (will only be callable
    // by parent if same-origin / allow-same-origin)
    window.__iframeProbe = {
      hello: function () { return 'hello from iframe@' + location.origin; },
      cookie: function () { return document.cookie || '<no-cookie-visible>'; }
    };
  </script>
</body>
</html>
